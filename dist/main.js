(()=>{var e={906:(e,t,s)=>{const a=s(432);e.exports=class{constructor(){this.board=[],this.ships=[],this.misses=[],this.hits=[],this.allOcean=!1}createArr=()=>{for(let e=0;e<10;e++){let e=new Array(10).fill("");this.board.push(e)}};placeShip=(e,t)=>{let s=Math.abs(e[0]-t[0]);if(0!==s){for(let t=0;t<s;t++)if(""!==this.board[e[0]+t][e[1]])throw new Error;for(let t=0;t<=s;t++)this.board[e[0]+t][e[1]]=`ship${this.ships.length}`;this.ships.push(new a(s+1))}let l=Math.abs(e[1]-t[1]);if(0!==l){for(let t=0;t<=l;t++)if(""!==this.board[e[0]][e[1]+t])throw new Error;for(let t=0;t<=l;t++)this.board[e[0]][e[1]+t]=`ship${this.ships.length}`;this.ships.push(new a(l+1))}};recieveAttack=e=>{if(""!==this.board[e[0]][e[1]]){let t=this.board[e[0]][e[1]];t=Number(t.charAt(t.length-1)),this.ships[t].hit(),this.allSunk(),this.hits.push(e)}else this.misses.push(e)};allSunk=()=>{let e=!0;for(const t of this.ships)t.sunk||(this.allOcean=!1,e=!1);e&&(this.allOcean=!0)}}},211:e=>{e.exports=class{constructor(){this.illegalMoves=[]}attack=(e,t)=>{t.recieveAttack(e)};randomAttack=e=>{let t=[],s=!0;t.push(this.getRandom11()),t.push(this.getRandom11()),console.log(t);for(let e=0;e<this.illegalMoves.length;e++)this.illegalMoves[e][0]===t[0]&&this.illegalMoves[e][1]===t[1]&&(s=!1);s?(this.illegalMoves.push(t),this.attack(t,e)):this.randomAttack(e)};getRandom11=()=>Math.floor(10*Math.random())}},432:e=>{e.exports=class{constructor(e){this.length=e,this.hits=0,this.sunk=!1}hit=()=>{this.hits=this.hits+1,this.ocean()};ocean=()=>{this.hits>=this.length?this.sunk=!0:this.sunk=!1}}}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";s(432);var e=s(906),t=s.n(e),a=s(211),l=s.n(a);let r=new(t()),o=0;r.createArr();let n=new(t());n.createArr();let i=new(l()),d=[],c=[];const h=function(){const e=document.querySelector(".pwrapper"),t=document.querySelector(".cwrapper");return{displayBoards:()=>{let s=[];for(let e=0;e<10;e++){let t=document.createElement("div");t.textContent=String.fromCharCode(e+65),t.classList.add("label"),t.classList.add("vert"),s.push(t)}let a=document.createElement("div");a.classList.add("row"),a.classList.add("labelRow");for(let e=0;e<s.length;e++)a.appendChild(s[e]);e.appendChild(a);for(let t=0;t<10;t++){let s=document.createElement("div");s.classList.add("row");let a=document.createElement("div");a.textContent=t+1,a.classList.add("label"),s.appendChild(a);for(let e=0;e<10;e++){let a=document.createElement("div");a.dataset.one=t,a.dataset.two=e,r.board[t][e]?(a.style.backgroundColor="#ADD8E6",a.dataset.hit=!0):(a.style.backgroundColor="gray",a.dataset.hit=!1),a.classList.add("cell"),d.push(a),s.appendChild(a)}e.appendChild(s)}let l=[];for(let e=0;e<10;e++){let t=document.createElement("div");t.textContent=String.fromCharCode(e+65),t.classList.add("label"),t.classList.add("vert"),l.push(t)}let i=document.createElement("div");i.classList.add("row"),i.classList.add("labelRow");for(let e=0;e<l.length;e++)i.appendChild(l[e]);t.appendChild(i);for(let e=0;e<10;e++){let s=document.createElement("div");s.classList.add("row");let a=document.createElement("div");a.textContent=e+1,a.classList.add("label"),s.appendChild(a);for(let t=0;t<10;t++){let a=document.createElement("div");a.dataset.one=e,a.dataset.two=t,a.style.backgroundColor="gray",c.push(a),n.board[e][t]?a.addEventListener("click",(()=>{a.style.backgroundColor="#FF7F7F",5===o&&m(a.dataset.one,a.dataset.two)})):a.addEventListener("click",(()=>{a.style.backgroundColor="white",5===o&&m(a.dataset.one,a.dataset.two)})),a.classList.add("cell"),s.appendChild(a)}t.appendChild(s)}},clearBoard:()=>{e.replaceChildren(),t.replaceChildren()}}}();function u(){for(let e=0;e<c.length;e++)c[e].style.pointerEvents="none"}function p(){for(let e=0;e<c.length;e++)c[e].style.pointerEvents="auto"}function m(e,t){console.log("running"),u(),n.recieveAttack([Number(e),Number(t)]),n.allOcean&&alert("player has won"),function(){i.randomAttack(r);for(let e=0;e<r.misses.length;e++)for(let t=0;t<d.length;t++)"false"==d[t].dataset.hit&&r.misses[e][0]==d[t].dataset.one&&r.misses[e][1]==d[t].dataset.two&&(d[t].style.backgroundColor="white");for(let e=0;e<r.hits.length;e++)for(let t=0;t<d.length;t++)"true"==d[t].dataset.hit&&r.hits[e][0]==d[t].dataset.one&&r.hits[e][1]==d[t].dataset.two&&(d[t].style.backgroundColor="red")}(),r.allOcean&&alert("computer has won"),p()}h.displayBoards(),u(),document.querySelector(".place").addEventListener("submit",(e=>{e.preventDefault();let t,s=Number(document.getElementById("len").value),a=document.getElementById("startingCoord").value,l=document.getElementsByName("direction");for(let e=0;e<l.length;e++)l[e].checked&&(t=l[e].value);let n=document.getElementById("len"),i=null;switch(a.substring(0,1)){case"A":i=0;break;case"B":i=1;break;case"C":i=2;break;case"D":i=3;break;case"E":i=4;break;case"F":i=5;break;case"G":i=6;break;case"H":i=7;break;case"I":i=8;break;case"J":i=9}null===i&&alert("Please enter a valid coordinate");let d=Number(a.substring(1,2)),c=[],u=[];"vertical"===t?(c.push(d-1),c.push(i),u.push(c[0]+s-1),u.push(c[1])):"horizontal"===t&&(c.push(d-1),c.push(i),u.push(c[0]),u.push(c[1]+s-1));try{r.placeShip(c,u),h.clearBoard(),h.displayBoards(),n.remove(n.selectedIndex),o++,console.log(o)}catch{alert("ships cannot overlap or go out of bounds")}5===o&&p()}))})()})();